@page "/account/manage"
@namespace Avhrm.UI.Shared.Pages
@using Microsoft.AspNetCore.Components.Web.Virtualization

<div class="page-account-manage">
    <div class="page-header text-align-center">
        @TextResources.APP_StringKeys_Account_ManageUser
    </div>
    <div class="text-align-center"
         style="margin-top:30px;">
        <div class="div-ver-overflow">
            @if (Users is not null)
            {
                <Virtualize Items="Users"
                            ItemSize="10"
                            OverscanCount="10">
                    <MudCard Outlined="true">
                        <MudCardHeader>
                            <CardHeaderContent>
                                <MudText Typo="Typo.h6">@context.PersianName</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            <MudText Typo="Typo.body2">
                                @TextResources.APP_StringKeys_Department :
                                @context.DepartmentName
                            </MudText>
                        </MudCardContent>
                        <MudCardActions Class="text-align-center">
                            <NavLink href="@($"/account/edit/{context.Username}")"
                                     Match="NavLinkMatch.All"
                                     class="btn btn-secondary">
                                <MaterialIcon IconName="@MaterialIconsHelper.Edit"></MaterialIcon>
                            </NavLink>
                        </MudCardActions>
                    </MudCard>
                </Virtualize>
            }
        </div>
        <NavLink href="/account/add"
                 Match="NavLinkMatch.All"
                 class="btn btn-primary page-floating-button-bottom">
            <MaterialIcon IconName="@MaterialIconsHelper.Add"></MaterialIcon>
        </NavLink>
        <MudOverlay Visible="IsLoading"
                    DarkBackground="true">
            @TextResources.APP_StringKeys_Loading
            <MudProgressCircular Color="Color.Primary"
                                 Size="Size.Large"
                                 Indeterminate="true" />
        </MudOverlay>
    </div>
</div>
